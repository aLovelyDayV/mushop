{"version":3,"file":"js/register.6ac2e733.js","mappings":"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","sources":["webpack://mushop/./src/components/ToastPart.vue","webpack://mushop/./src/components/ToastPart.vue?f8e8","webpack://mushop/./src/views/register/RegisterView.vue","webpack://mushop/./src/views/register/RegisterView.vue?56d1"],"sourcesContent":["<template>\r\n  <div class=\"toast\">{{message}}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from '@vue/reactivity';\r\nexport const useToastEffect = () => {\r\n  const data = reactive({\r\n    toastMessage: \"\",\r\n    show: false,\r\n  });\r\n  const showToast = (mes) => {\r\n    data.show = true;\r\n    data.toastMessage = mes;\r\n    setTimeout(()=>{\r\n        data.show = false;\r\n    },2000)\r\n  };\r\n  const { toastMessage, show } = toRefs(data)\r\n  return { toastMessage, show, showToast };\r\n};\r\nexport default {\r\n  name: \"ToastPart\",\r\n  props:['message']\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.toast {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: rgba(0, 0, 0, 0.35);\r\n  color: #fff;\r\n  padding: 0.1rem;\r\n  border-radius: 0.05rem;\r\n}\r\n</style>","import { render } from \"./ToastPart.vue?vue&type=template&id=f70ca294&scoped=true\"\nimport script from \"./ToastPart.vue?vue&type=script&lang=js\"\nexport * from \"./ToastPart.vue?vue&type=script&lang=js\"\n\nimport \"./ToastPart.vue?vue&type=style&index=0&id=f70ca294&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\l\\\\Desktop\\\\jingdongvue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f70ca294\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"wrapper__img\">\r\n      <img src=\"http://www.dell-lee.com/imgs/vue3/user.png\" />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__user\"\r\n        type=\"text\"\r\n        placeholder=\"请输入用户名\"\r\n        v-model=\"username\"\r\n      />\r\n      <input\r\n        class=\"wrapper__input__password\"\r\n        type=\"password\"\r\n        placeholder=\"请输入密码\"\r\n        v-model=\"password\"\r\n      />\r\n      <input\r\n        class=\"wrapper__input__repassword\"\r\n        type=\"password\"\r\n        placeholder=\"确认密码\"\r\n        v-model=\"repassword\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__register-button\">\r\n      <button @click=\"handleRegister\">注册</button>\r\n    </div>\r\n    <div class=\"wrapper__login-link\" @click=\"toLogin\">已有账号去登陆</div>\r\n  </div>\r\n  <ToastPart v-if=\"show\" :message=\"toastMessage\" />\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\nimport { reactive, toRefs } from \"@vue/reactivity\";\r\nimport { post } from \"../../utils/request\";\r\nimport ToastPart, { useToastEffect } from \"../../components/ToastPart.vue\";\r\n\r\n// 注册\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter();\r\n  const data = reactive({\r\n    username: \"\",\r\n    password: \"\",\r\n    repassword: \"\",\r\n  });\r\n  const handleRegister = async () => {\r\n    const { username, password, repassword } = data;\r\n      if (username.trim() === \"\") {\r\n        showToast(\"用户名不能为空\");\r\n        return;\r\n      }\r\n      if (password.trim() === \"\") {\r\n        showToast(\"密码不能为空\")\r\n        return;\r\n      }\r\n      if (repassword !== password) {\r\n        showToast(\"密码前后不一致\");\r\n        return;\r\n      }\r\n    try {\r\n      const result = await post(\"/api/user/register\", {\r\n        username: username,\r\n        password: password,\r\n      });\r\n      if (result?.errno === 0) {\r\n        router.push({ name: \"login\" });\r\n      } else {\r\n        showToast(\"注册失败\");\r\n      }\r\n    } catch (e) {\r\n      showToast(\"请求失败\");\r\n    }\r\n  };\r\n  const { username, password, repassword } = toRefs(data);\r\n  return { username, password, repassword, handleRegister };\r\n};\r\n\r\n//去登陆界面\r\nconst toLoginEffect = () => {\r\n  const router = useRouter();\r\n  const toLogin = () => {\r\n    router.push({ name: \"login\" });\r\n  };\r\n  return { toLogin };\r\n};\r\nexport default {\r\n  name: \"RegisterView\",\r\n  components: { ToastPart },\r\n  setup() {\r\n    const { toastMessage, show, showToast } = useToastEffect();\r\n    const { username, password, repassword, handleRegister } =\r\n      useRegisterEffect(showToast);\r\n    const { toLogin } = toLoginEffect();\r\n    return {\r\n      username,\r\n      password,\r\n      repassword,\r\n      toastMessage,\r\n      show,\r\n      handleRegister,\r\n      toLogin,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/variables.scss\";\r\n.wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  padding: 0 0.4rem;\r\n  &__img {\r\n    margin-bottom: 0.4rem;\r\n    text-align: center;\r\n    img {\r\n      width: 0.66rem;\r\n      height: 0.66rem;\r\n    }\r\n  }\r\n  &__input {\r\n    input {\r\n      width: 100%;\r\n      height: 0.48rem;\r\n      background: #f9f9f9;\r\n      border: .01rem solid rgba(0, 0, 0, 0.1);\r\n      border-radius: 0.06rem;\r\n      text-indent: 5%;\r\n      font-size: 0.16rem;\r\n      &::placeholder {\r\n        color: $content-notice-fontColor;\r\n      }\r\n    }\r\n    &__password {\r\n      margin: 0.16rem 0;\r\n    }\r\n    &__repassword {\r\n      margin-bottom: 0.32rem;\r\n    }\r\n  }\r\n  &__register-button {\r\n    button {\r\n      width: 100%;\r\n      height: 0.48rem;\r\n      background: #0091ff;\r\n      box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n      border-radius: 0.04rem;\r\n      color: #ffffff;\r\n      font-size: 0.16rem;\r\n    }\r\n  }\r\n  &__login-link {\r\n    margin-top: 0.16rem;\r\n    text-align: center;\r\n    font-size: 0.14rem;\r\n    color: $content-notice-fontColor;\r\n  }\r\n}\r\n</style>","import { render } from \"./RegisterView.vue?vue&type=template&id=712c7227&scoped=true\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterView.vue?vue&type=style&index=0&id=712c7227&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\l\\\\Desktop\\\\jingdongvue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-712c7227\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_toDisplayString","$props","useToastEffect","data","reactive","toastMessage","show","showToast","mes","setTimeout","toRefs","name","props","__exports__","render","_createElementVNode","src","_hoisted_2","type","placeholder","$setup","$event","onClick","_createBlock","_component_ToastPart","message","useRegisterEffect","router","useRouter","username","password","repassword","handleRegister","async","trim","result","post","errno","push","e","toLoginEffect","toLogin","components","ToastPart","setup"],"sourceRoot":""}