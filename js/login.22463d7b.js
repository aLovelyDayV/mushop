"use strict";(self["webpackChunkmushop"]=self["webpackChunkmushop"]||[]).push([[535],{4179:function(s,e,a){a.d(e,{Z:function(){return d},S:function(){return c}});var n=a(6252),t=a(3577);const o={class:"toast"};function r(s,e,a,r,i,c){return(0,n.wg)(),(0,n.iD)("div",o,(0,t.zw)(a.message),1)}var i=a(2262);const c=()=>{const s=(0,i.qj)({toastMessage:"",show:!1}),e=e=>{s.show=!0,s.toastMessage=e,setTimeout((()=>{s.show=!1}),2e3)},{toastMessage:a,show:n}=(0,i.BK)(s);return{toastMessage:a,show:n,showToast:e}};var l={name:"ToastPart",props:["message"]},p=a(3744);const u=(0,p.Z)(l,[["render",r],["__scopeId","data-v-f70ca294"]]);var d=u},1449:function(s,e,a){a.r(e),a.d(e,{default:function(){return C}});var n=a(6252),t=a(9963),o=a(6877);const r=s=>((0,n.dD)("data-v-9836ea48"),s=s(),(0,n.Cn)(),s),i={class:"wrapper"},c=r((()=>(0,n._)("div",{class:"wrapper__img"},[(0,n._)("img",{src:"http://www.dell-lee.com/imgs/vue3/user.png"})],-1))),l={class:"wrapper__input"},p={class:"wrapper__login-button"},u={key:0,class:"mask"},d={class:"mask__container"},w=r((()=>(0,n._)("p",{class:"mask__container__notice"},"由于后端接口问题，微信预览效果更佳",-1))),_=r((()=>(0,n._)("img",{src:o},null,-1)));function g(s,e,a,o,r,g){const h=(0,n.up)("ToastPart");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",i,[c,(0,n._)("div",l,[(0,n.wy)((0,n._)("input",{class:"wrapper__input__user",type:"text",placeholder:"请输入用户名","onUpdate:modelValue":e[0]||(e[0]=s=>o.username=s)},null,512),[[t.nr,o.username]]),(0,n.wy)((0,n._)("input",{class:"wrapper__input__password",type:"password",placeholder:"请输入密码","onUpdate:modelValue":e[1]||(e[1]=s=>o.password=s)},null,512),[[t.nr,o.password]])]),(0,n._)("div",p,[(0,n._)("button",{onClick:e[2]||(e[2]=(...s)=>o.handleLogin&&o.handleLogin(...s))},"登陆")]),(0,n._)("div",{class:"wrapper__login-link",onClick:e[3]||(e[3]=(...s)=>o.toRegister&&o.toRegister(...s))},"立即注册")]),o.showQR?((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",d,[w,_,(0,n._)("span",{class:"mask__container__x iconfont",onClick:e[4]||(e[4]=(...s)=>o.handleQRclick&&o.handleQRclick(...s))},"")])])):(0,n.kq)("",!0),o.show?((0,n.wg)(),(0,n.j4)(h,{key:1,message:o.toastMessage},null,8,["message"])):(0,n.kq)("",!0)],64)}var h=a(2119),m=a(2262),v=a(4179),k=a(4471);const f=()=>{const s=(0,m.iH)(!0),e=()=>{s.value=!1};return{showQR:s,handleQRclick:e}},R=s=>{const e=(0,h.tv)(),a=(0,m.qj)({username:"abc",password:"123456"}),n=async()=>{const{username:n,password:t}=a;if(""!==n.trim())if(""!==t.trim())try{const a=await(0,k.v)("/api/user/login",{username:n,password:t});0===a?.errno?(localStorage.isLogin=!0,e.push({name:"home"})):s("登陆失败")}catch(o){s("请求失败")}else s("密码不能为空");else s("用户名不能为空")},{username:t,password:o}=(0,m.BK)(a);return{username:t,password:o,handleLogin:n}},Q=()=>{const s=(0,h.tv)(),e=()=>{s.push({name:"register"})};return{toRegister:e}};var y={name:"LoginView",components:{ToastPart:v.Z},setup(){const{showQR:s,handleQRclick:e}=f(),{toastMessage:a,show:n,showToast:t}=(0,v.S)(),{username:o,password:r,handleLogin:i}=R(t),{toRegister:c}=Q();return{showQR:s,handleQRclick:e,username:o,password:r,toastMessage:a,show:n,handleLogin:i,toRegister:c}}},L=a(3744);const M=(0,L.Z)(y,[["render",g],["__scopeId","data-v-9836ea48"]]);var C=M},6877:function(s,e,a){s.exports=a.p+"img/mushop.0e907024.png"}}]);
//# sourceMappingURL=login.22463d7b.js.map