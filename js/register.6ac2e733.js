"use strict";(self["webpackChunkmushop"]=self["webpackChunkmushop"]||[]).push([[685],{4179:function(s,e,r){r.d(e,{Z:function(){return l},S:function(){return u}});var a=r(6252),t=r(3577);const o={class:"toast"};function n(s,e,r,n,p,u){return(0,a.wg)(),(0,a.iD)("div",o,(0,t.zw)(r.message),1)}var p=r(2262);const u=()=>{const s=(0,p.qj)({toastMessage:"",show:!1}),e=e=>{s.show=!0,s.toastMessage=e,setTimeout((()=>{s.show=!1}),2e3)},{toastMessage:r,show:a}=(0,p.BK)(s);return{toastMessage:r,show:a,showToast:e}};var i={name:"ToastPart",props:["message"]},d=r(3744);const w=(0,d.Z)(i,[["render",n],["__scopeId","data-v-f70ca294"]]);var l=w},3007:function(s,e,r){r.r(e),r.d(e,{default:function(){return k}});var a=r(6252),t=r(9963);const o=s=>((0,a.dD)("data-v-712c7227"),s=s(),(0,a.Cn)(),s),n={class:"wrapper"},p=o((()=>(0,a._)("div",{class:"wrapper__img"},[(0,a._)("img",{src:"http://www.dell-lee.com/imgs/vue3/user.png"})],-1))),u={class:"wrapper__input"},i={class:"wrapper__register-button"};function d(s,e,r,o,d,w){const l=(0,a.up)("ToastPart");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",n,[p,(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{class:"wrapper__input__user",type:"text",placeholder:"请输入用户名","onUpdate:modelValue":e[0]||(e[0]=s=>o.username=s)},null,512),[[t.nr,o.username]]),(0,a.wy)((0,a._)("input",{class:"wrapper__input__password",type:"password",placeholder:"请输入密码","onUpdate:modelValue":e[1]||(e[1]=s=>o.password=s)},null,512),[[t.nr,o.password]]),(0,a.wy)((0,a._)("input",{class:"wrapper__input__repassword",type:"password",placeholder:"确认密码","onUpdate:modelValue":e[2]||(e[2]=s=>o.repassword=s)},null,512),[[t.nr,o.repassword]])]),(0,a._)("div",i,[(0,a._)("button",{onClick:e[3]||(e[3]=(...s)=>o.handleRegister&&o.handleRegister(...s))},"注册")]),(0,a._)("div",{class:"wrapper__login-link",onClick:e[4]||(e[4]=(...s)=>o.toLogin&&o.toLogin(...s))},"已有账号去登陆")]),o.show?((0,a.wg)(),(0,a.j4)(l,{key:0,message:o.toastMessage},null,8,["message"])):(0,a.kq)("",!0)],64)}var w=r(2119),l=r(2262),c=r(4471),g=r(4179);const _=s=>{const e=(0,w.tv)(),r=(0,l.qj)({username:"",password:"",repassword:""}),a=async()=>{const{username:a,password:t,repassword:o}=r;if(""!==a.trim())if(""!==t.trim())if(o===t)try{const r=await(0,c.v)("/api/user/register",{username:a,password:t});0===r?.errno?e.push({name:"login"}):s("注册失败")}catch(n){s("请求失败")}else s("密码前后不一致");else s("密码不能为空");else s("用户名不能为空")},{username:t,password:o,repassword:n}=(0,l.BK)(r);return{username:t,password:o,repassword:n,handleRegister:a}},m=()=>{const s=(0,w.tv)(),e=()=>{s.push({name:"login"})};return{toLogin:e}};var h={name:"RegisterView",components:{ToastPart:g.Z},setup(){const{toastMessage:s,show:e,showToast:r}=(0,g.S)(),{username:a,password:t,repassword:o,handleRegister:n}=_(r),{toLogin:p}=m();return{username:a,password:t,repassword:o,toastMessage:s,show:e,handleRegister:n,toLogin:p}}},v=r(3744);const f=(0,v.Z)(h,[["render",d],["__scopeId","data-v-712c7227"]]);var k=f}}]);
//# sourceMappingURL=register.6ac2e733.js.map