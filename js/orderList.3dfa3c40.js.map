{"version":3,"file":"js/orderList.3dfa3c40.js","mappings":"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","sources":["webpack://mushop/./src/components/DockerPart.vue","webpack://mushop/./src/components/DockerPart.vue?3e34","webpack://mushop/./src/views/orderList/OrderList.vue","webpack://mushop/./src/views/orderList/OrderList.vue?8702"],"sourcesContent":["<template>\r\n  <div class=\"docker\">\r\n    <div\r\n      v-for=\"(item, index) in dockerList\"\r\n      :key=\"index\"\r\n      :class=\"{ 'docker__item': true, 'docker__item--active': currentDocker === index }\"\r\n    >\r\n    <router-link :to=\"{name:item.to}\">\r\n      <div class=\"docker__item__icon iconfont\" v-html=\"item.icon\"></div>\r\n      <div class=\"docker__item__title\">{{ item.title }}</div>\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DockerPart\",\r\n  props:['currentDocker'],\r\n  setup() {\r\n    const dockerList = [\r\n      { icon: \"&#xe6bb;\", title: \"首页\",to:'home' },\r\n      { icon: \"&#xe73c;\", title: \"购物车\",to:'cart' },\r\n      { icon: \"&#xe63b;\", title: \"订单\" ,to:'orderList'},\r\n      { icon: \"&#xe8e9;\", title: \"我的\",to:'my' },\r\n    ];\r\n    return { dockerList };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.docker {\r\n  display: flex;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  padding: 0 0.18rem;\r\n  height: 0.5rem;\r\n  border-top: .01rem solid #f1f1f1;\r\n  &__item {\r\n    flex: 1;\r\n    text-align: center;\r\n    .iconfont {\r\n      margin: 0.07rem 0 0.02rem 0;\r\n      font-size: 0.2rem;\r\n    }\r\n    &__title {\r\n      font-size: 0.2rem;\r\n      transform: scale(0.5, 0.5);\r\n      transform-origin: center top;\r\n    }\r\n    &--active {\r\n      a {\r\n        color: #1fa4fc;\r\n      }\r\n      \r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./DockerPart.vue?vue&type=template&id=7213e5d6&scoped=true\"\nimport script from \"./DockerPart.vue?vue&type=script&lang=js\"\nexport * from \"./DockerPart.vue?vue&type=script&lang=js\"\n\nimport \"./DockerPart.vue?vue&type=style&index=0&id=7213e5d6&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\l\\\\Desktop\\\\jingdongvue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7213e5d6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <h2>我的订单</h2>\r\n    <div class=\"orders\">\r\n      <div class=\"order\" v-for=\"(item, index) in list\" :key=\"index\">\r\n        <div class=\"order__title\">\r\n          {{ item.shopName }}\r\n          <span class=\"order__status\">\r\n            {{ item.isCanceled ? \"已取消\" : \"已下单\" }}</span\r\n          >\r\n        </div>\r\n        <div class=\"order__content\">\r\n          <div class=\"order__content__imgs\">\r\n            <template\r\n              v-for=\"(innerItem, innerIndex) in item.products\"\r\n              :key=\"innerIndex\"\r\n            >\r\n              <img\r\n                class=\"order__content__img\"\r\n                :src=\"innerItem.product.img\"\r\n                v-if=\"innerIndex <= 3\"\r\n              />\r\n            </template>\r\n          </div>\r\n          <div class=\"order__content__info\">\r\n            <div class=\"order__content__price\">￥{{ item.totalPrice }}</div>\r\n            <div class=\"order__content__count\">共{{ item.totalNumber }}件</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <DockerPart :currentDocker=\"2\" />\r\n</template>\r\n<script>\r\nimport { ref } from \"@vue/reactivity\";\r\nimport DockerPart from \"../../components/DockerPart.vue\";\r\nimport { get } from \"@/utils/request\";\r\n\r\n// products: [\r\n//         {\r\n//           orderSales: 5,\r\n//           product: {\r\n//             name: '番茄 250g / 份',\r\n//             img: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\r\n//             price: 33.6,\r\n//             sales: 6\r\n//           }\r\n//         }\r\n//       ]\r\nconst useOrderListEffect = () => {\r\n  const list = ref([]);\r\n  const getOrderList = async () => {\r\n    const result = await get(\"/api/order\");\r\n    if (result?.errno === 0 && result?.data?.length) {\r\n      const orderList = result.data;\r\n      orderList.forEach((order) => {\r\n        const products = order.products || [];\r\n        let totalPrice = 0;\r\n        let totalNumber = 0;\r\n        products.forEach((productItem) => {\r\n          totalNumber += productItem?.orderSales || 0;\r\n          totalPrice +=\r\n            productItem?.product?.price * productItem?.orderSales || 0;\r\n        });\r\n        order.totalPrice = totalPrice;\r\n        order.totalNumber = totalNumber;\r\n      });\r\n      list.value = result.data;\r\n    }\r\n  };\r\n  getOrderList();\r\n\r\n  return { list };\r\n\r\n};\r\n\r\nexport default {\r\n  name: \"OrderList\",\r\n  components: { DockerPart },\r\n  setup() {\r\n    const { list } = useOrderListEffect();\r\n    return { list };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/_common.scss\";\r\n.wrapper {\r\n  @include wrapper;\r\n  background-color: #f5f5f5;\r\n  h2 {\r\n    padding: 0.16rem 0;\r\n    font-size: 0.16rem;\r\n    font-weight: normal;\r\n    text-align: center;\r\n    background-color: #fff;\r\n  }\r\n}\r\n.order {\r\n  padding: 0.16rem;\r\n  margin: 0.16rem;\r\n  margin-bottom: 0;\r\n  background-color: #fff;\r\n  &__title {\r\n    margin-bottom: 0.16rem;\r\n    line-height: 0.22rem;\r\n    font-size: 0.16rem;\r\n  }\r\n  &__status {\r\n    float: right;\r\n    font-size: 0.14rem;\r\n    color: #999;\r\n  }\r\n  &__content {\r\n    display: flex;\r\n    &__imgs {\r\n      flex: 1;\r\n    }\r\n    &__img {\r\n      width: 0.4rem;\r\n      height: 0.4rem;\r\n      margin-right: 0.12rem;\r\n    }\r\n    &__info {\r\n      width: 0.7rem;\r\n    }\r\n    &__price {\r\n      margin-bottom: 0.04rem;\r\n      line-height: 0.2rem;\r\n      font-size: 0.14rem;\r\n      color: #e93b3b;\r\n      text-align: right;\r\n    }\r\n    &__count {\r\n      line-height: 0.14rem;\r\n      text-align: right;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./OrderList.vue?vue&type=template&id=3616a5e4&scoped=true\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\n\nimport \"./OrderList.vue?vue&type=style&index=0&id=3616a5e4&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\l\\\\Desktop\\\\jingdongvue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3616a5e4\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_Fragment","_renderList","$setup","item","index","key","$props","_createVNode","_component_router_link","to","name","_createElementVNode","innerHTML","icon","_toDisplayString","title","props","setup","dockerList","__exports__","render","_hoisted_2","shopName","isCanceled","products","innerItem","innerIndex","src","product","img","totalPrice","totalNumber","_component_DockerPart","currentDocker","useOrderListEffect","list","ref","getOrderList","async","result","get","errno","data","length","orderList","forEach","order","productItem","orderSales","price","value","components","DockerPart"],"sourceRoot":""}